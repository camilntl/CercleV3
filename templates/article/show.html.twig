{# templates/article/new.html.twig #}

{% extends 'base.html.twig' %}


{% block javascripts %}
	{{ parent() }}
	<script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
	<script>
		document.addEventListener('DOMContentLoaded', function () {
tinymce.init({
selector: '#article_content',
// Assurez-vous que cet ID correspond à l'ID de votre champ de formulaire
// ... autres options de TinyMCE ...
});
});
	</script>
{% endblock %}
{% block body %}
	<div class="px-10 py-4 mt-8 h-3/4 flex flex-col justify-center max-w-lg mx-auto bg-white dark:bg-black shadow-lg rounded-lg">
		<h2 class="text-2xl text-center text-purple-600 font-bold mb-6">Créer un nouvel article</h2>

		{# {{ form_start(form, {'attr': {'class': 'space-y-4'}}) }}
										
												{% for field in form %}
													<div class="flex flex-col">
														{{ form_label(field, null, {'label_attr': {'class': 'text-purple-700 font-medium mb-2'}}) }}
														{{ form_widget(field, {'attr': {'class': ' rounded-2xl p-2 bg-purple-300 focus:ring-purple-500'}}) }}
														{{ form_errors(field, {'attr': {'class': 'text-red-600 text-sm mt-1'}}) }}
													</div>
												{% endfor %}
										
												<div class="flex justify-center mt-6">
													<button type="submit" class="bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-full transition duration-300">Enregistrer l'article</button>
												</div>
										
												<div class="text-center mt-4">
													<a href="{{ path('app_home') }}" class="text-purple-600 hover:text-purple-700 transition duration-300">Retour à la liste des articles</a>
												</div>
										
												{{ form_end(form) }} #}

		{{ form_start(form, {'attr': {'enctype': 'multipart/form-data'}}) }}
		<div
			class="space-y-6">
			{# Parcourez chaque champ du formulaire et appliquez le style #}
			{{ form_errors(form) }}

			<div class="mb-4">
				{{ form_label(form.title, 'Titre', {'label_attr': {'class': 'block text-purple-700 dark:text-purple-300 mb-2 text-xs font-medium'}}) }}
				{{ form_widget(form.title, {'attr': {'class': 'border-none rounded-full w-full p-3 text-sm text-lavande-500 bg-purple-200 focus:outline-none focus:shadow-outline placeholder-lavande-500 dark:bg-lavande-900 dark:border-lavande-900'}}) }}
			</div>

			<div>
				{{ form_label(form.slug, 'Slug', {'label_attr': {'class': 'block text-purple-700 dark:text-purple-300 mb-2 text-xs font-medium'}}) }}
				{{ form_widget(form.slug, {'attr': {'class': 'border-none rounded-full w-full p-3 text-sm text-lavande-500 bg-gray-300 focus:outline-none focus:shadow-outline placeholder-lavande-500 dark:bg-gray-800 dark:border-lavande-900', 'readonly': 'readonly'}}) }}
			</div>

			<div>
				{{ form_label(form.content, 'Description', {'label_attr': {'class': 'block text-purple-700 dark:text-purple-300 mb-2 text-xs font-medium'}}) }}
				{{ form_widget(form.content, {'attr': {'class': 'border-none rounded-xl w-full p-3 text-sm text-lavande-500 bg-purple-200 focus:outline-none focus:shadow-outline placeholder-lavande-500 dark:bg-lavande-900 dark:border-lavande-900'}}) }}
			</div>

			<div class="mb-4">
				{{ form_label(form.image, 'Image', {'label_attr': {'class': 'block text-purple-700 dark:text-purple-300 mb-2 text-xs font-medium'}}) }}
				{{ form_widget(form.image, {'attr': {'class': 'border-none rounded-full w-full p-3 text-sm text-lavande-500 bg-purple-200 focus:outline-none focus:shadow-outline placeholder-lavande-500 dark:bg-lavande-900 dark:border-lavande-900'}}) }}
			</div>

			<div class="flex justify-center mt-6">
				<button type="submit" class="bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-full transition duration-300">Enregistrer l'article</button>
			</div>
			<div class="text-center mt-4">
				<a href="{{ path('app_home') }}" class="text-purple-600 hover:text-purple-700 transition duration-300">Retour à la liste des articles</a>
			</div>
			{{ form_end(form) }}
		</div>
	</div>

	<script>
var titleElement = document.getElementById("article_title");
var slugElement = document.getElementById("article_slug");

titleElement.addEventListener('change', function (event) {
slugElement.value = titleElement.value
})
	</script>

{% endblock %}
